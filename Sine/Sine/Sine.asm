/*
 * Sine.asm
 *
 *  Created: 22-01-2015 15:49:49
 *   Author: Thyagu
 */ 

 .INCLUDE "M32DEF.INC"
 .ORG 0

		LDI R16, HIGH(RAMEND)
		OUT SPH, R16
		LDI R16, LOW(RAMEND)
		OUT SPL, R16

		LDI R16, 0xFF
		OUT DDRB, R16

LOOP1:	LDI ZH, HIGH(SINE<<1)
		LDI ZL, LOW(SINE<<1)

LOOP2:	LPM R20, Z+
		OUT PORTB, R20
		CALL Delay
		CPI R20, 128
		BREQ LOOP1
		RJMP LOOP2



Delay:	LDI R17, 0xFF
D1:		DEC R17
		BRNE D1
		RET		

.ORG 0x100
SINE:	.DB 127,135,143,151,159,166,174,181,188,195,202,208,214,220,225,230,234,238,242,245,248,250,252,253,254,254,254,253,252,250,248,245,242,238,234,230,225,220,214,208,202,195,188,181,174,166,159,151,143,135,127,119,111,103,95,88,80,73,66,59,52,46,40,34,29,24,20,16,12,9,6,4,2,1,0,0,0,1,2,4,6,9,12,16,20,24,29,34,40,46,52,59,66,73,80,88,95,103,111,119,128
